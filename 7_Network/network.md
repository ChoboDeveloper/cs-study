# 네트워크

<br>

### OSI 7 Layer

* 응용
  * 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행한다
  * 응용 프로세스의 실행에 필요한 HTTP, FTP 등의 프로토콜을 제공한다
* 표현
  * 응용 계층으로부터 전송받거나 응용 계층으로 전달해야 할 데이터의 인코딩과 디코딩이 이 계층에서 이루어진다. 그리고 표현 계층은 데이터를 안전하게 사용하기 위해서 암호화와 복호화를 하는데 이 작업도 표현 계층에서 이루어진다. 
  * 예를 들면 유니코드(UTF-8)로 인코딩 되어있는 문서를 ASCII로 인코딩 된 문서로 변환하려 할 때 이 계층에서 변환이 이루어진다.
* 세션
  * 세션을 통해 통신장치간의 연결을 관리한다. 즉 연결상태 혹은 동기화등을 통해 연결정보에 대한 관리 역할을 한다.
* 전송
  * 통신을 활성화하기 위한 계층이다. 보통 TCP프로토콜을 이용하며, 포트를 열어서 응용프로그램들이 전송을 할 수 있게 한다.
  * 즉 포트가 열리면 패킷이 생성되고 전송된다. 또한, 이 과정에서 흐름제어, 오류제어, 혼잡제어 등 신뢰성 있는 통신을 제공한다.
  * 전송단위는 세그먼트
* 네트워크
  * 라우팅 과정에서 경로설정 및 패킷 스위칭 기능을 한다.
  * 전송단위는 **패킷**
* 데이터링크
  * **물리 계층을 통해 송수신되는 정보의 오류와 흐름을 관리하여 안전한 정보의 전달**을 수행할 수 있도록 도와주는 역할을 한다. 따라서 통신에서의 오류도 찾아주고 재전송도 하는 기능을 가지고 있는 것이다.
  * 데이터링크 계층에서는 MAC 주소를 가지고 통신하게 된다.
  * 이 계층에서 전송되는 단위를 **프레임**이라고 하고, 대표적인 장비로는 **브리지, 스위치** 등이 있다.
* 물리
  * 물리계층에서는 주로 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송하게 된다.
  * 전송케이블, 리피터, 허브등이 이에 속한다.

---

### IPv6

* 128비트 주소를 사용
  * 따라서 IP주소를 절약하기 위해 사용되는 NAT와 같은 주소변환 기술도 불필요
* 고정길이 헤더
  * 패킷 단편화(fragmentation) 관련 필드가 삭제
  * 체크섬 (checksum) 필드 삭제
* 트래픽을 효율적으로 관리
  * FlowLabel 필드 활용
* 보안기능
  * 확장헤더를 활용한 종단간 암호화 제공(IPsec)
* 자동 주소설정
  * 로컬 IPv6주소를 LAN상의 MAC주소와 라우터가 제공하는 네트워크 프리픽스(prefix)에 결합하여 IP주소를 자동 생성

---

### 라우팅 프로토콜

|          라우팅 방식           |          설명          |
| :----------------------------: | :--------------------: |
| Interior Gateway Protocol(IGP) | RIP, IGRP, OSPF, IS-IS |
| Exterior Gateway Protocol(EGP) |          BGP           |

* IGP는 네트워크 내부에서 데이터를 보내는 경우
* EGP는 게이트웨이의 외부를 거쳐서 데이터를 보내야 할 경우

|                 라우팅 방식                 |                             설명                             |
| :-----------------------------------------: | :----------------------------------------------------------: |
| Distance Vector Routing Algorithm(거리벡터) | RIP, IGRP<br>근처 노드와의 정보교환을 통한 라우팅 테이블 갱신 |
|   Link State Routing Algorithm(링크상태)    | OSPF, IS-IS<br>모든 노드의 링크상태와 비용을 라우팅 테이블로 구성 |
|            Path Vector(경로벡터)            |         BGP<br>거리와 관계없이 목적지의 경로를 탐색          |

---

### 윈도우 네트워크 명령어

* netstat
  * 네트워크 연결, 라우팅 테이블, 네트워크 장치의 통계정보 등 네트워크에 관련된 여러 가지 정보를 확인 할 수 있다.
* ping
  * 목적지의 네트워크 상태 및 RTT 정보(왕복시간) 제공

* tracert
  * tracert는 출발지부터 목적지까지의 경로 정보를 출력
  * ICMP, TTL, UDP를 활용한다
  * TTL을 1씩 키워서 전송하고 ICMP time exceed 메시지를 받아서 경로를 역추적
* route
  * 라우팅 테이블의 정보 확인
  * 네트워크 목적지, 네트워크 마스크, 게이트웨이, 인터페이스, 메트릭으로 구성
* nslookup
  * 도메인 정보 조회, IP 주소 출력

---

### 지연

**Processing Delay (처리 지연)**

들어온 **패킷들의 IP 헤더를 확인해서 그에 따른 작업을 처리하는데에 걸리는 시간**을 뜻합니다. 그 작업의 예시로는 오류 검사, 목적지 결정등이 있습니다.

**Queueing Delay (큐잉 지연)**

들어온 패킷들은 바로 라우터를 통과하는 것이 아닙니다. 라우터는 한번에 한 개의 패킷을 처리할 수 있기 때문에, 먼저 들어온 패킷이 처리될 때 까지 기다려야 할 수 있습니다. 그렇게 패킷이 **큐에서 다른 패킷들의 작업이 끝나길 기다리는 시간**을 뜻합니다. 네트워크 상황에따라 밀려있는 패킷이 적을 수도, 많을 수도 있기 때문에 다른 지연들에 비해 편차가 큰 지연입니다. 또한, 큐의 크기는 고정되어 있어서 일시적으로 너무 많은 패킷이 들어와서 큐의 범위를 초과하면 패킷 손실이 일어나기도 합니다.

**Transmission Delay (전송 지연)**

전달하고자 하는 **패킷의 비트들이 논리회로를 통과할 때 까지 발생하는 지연**을 뜻합니다. 채널의 전송 속도에 따라 달라지며 (네트워크 장비의 데이터 전송 속도에 따라 달라집니다.) Server-Client 간의 거리와는 무관합니다.

 **Propagation Delay (전파 지연)**

처음에 말했듯이, 패킷도 결국 물리적인 통신선로에서 신호가 이동하는 방식으로 전파됩니다. 이 때, **통신선로의 신호 전송 속도에 따른 물리적인 지연**을 뜻합니다. 따라서, 통신선의 종류에 따라 크게 달라지며, 거리에도 영향을 받습니다. 하지만, 대부분 일정한 값을 가지고, 빛의 속도는 매우 빠르기 때문에 다른 지연에 비해 매우작은 값이 산출됩니다.

---

### 통신 공식

```
shannon 공식) C  =  Blog₂(1 + S/N), (B는 대역폭 S/N은 잡음비)
SNR 공식) SNR[db] = 10log(S/N)
```

---

### 5G

* Zing
  * 10 cm 내의 근접거리에서 기가급의 대용량 콘텐츠를 복잡한 접속 절차 없이 손쉽고 빠르게 송·수신할 수 있는 초고속 근접통신 기술
* MHN
  * 달리는 지하철 안에서 초고속 모바일 인터넷 서비스를 제공하는 차세대 이동통신 기술
* 빔 포밍
  * 빔포밍이 가지는 일반적인 이미지는 이렇다. 안테나에서 발사되는 전파는 360도 모든 방향으로, 원형으로 퍼진다. 그걸 한쪽으로 모아서, 필요한 기기 쪽으로 쏴준다. 사방으로 퍼질 전파를 한쪽으로 모으니, 힘도 세고 데이터도 잘 주고받을 수 있게 된다. 누군가는 이걸 원형 풍선을 양옆에서 힘줘서 눌러 타원형으로 만드는 형태로 설명하기도 한다.
* 스몰셀
  * 반경 1km 내에서 마치 무선 AP(Wireless Access Point)처럼 붙여 사용하는 소형 기지국을 말한다
* 펨토셀
  * 반경 10m 정도의 가정이나 소규모 사무실을 위한 초소형, 저전력의 이동통신 기지국

---

### 서브넷마스크

**FLSM**

<img src = "https://user-images.githubusercontent.com/75229881/126755813-183540b6-0bbf-4f44-9b4a-b81315f286d0.png" width="40%">

* **Fixed Length Subnet Mask**

* 서브넷의 길이를 고정적으로 사용하는 것

**VLSM**

<img src = "https://user-images.githubusercontent.com/75229881/126755898-0b1ee233-dc4d-4463-979c-7eb02a17b449.png" width="60%">

* **Variable - Length Subnet Mask**

* 서브넷의 길이를 가변적으로 사용하는 것

---

### CDMA 복합신호

* 비트가 '0' 이면 -1, 1이면 +1의 신호를 가진다

<img src = "https://user-images.githubusercontent.com/75229881/127096369-ccddb361-7729-40ed-8e16-cdb6645e9c6b.png" width="80%">

* 각 노드의 칩 순열에 따라 곱 연산을 실행하고 이를 합산하여 공통 채널의 디지털 신호를 구할 수 있다


<img src = "https://user-images.githubusercontent.com/75229881/127096435-b17fb9b6-2e58-4984-a90b-1384a35b97ab.png" width="80%">

<img src ="https://user-images.githubusercontent.com/75229881/127096552-153fb711-d1d1-49ee-8789-325ebdecf1de.png " width="80%">

* 복호화 과정에서 공통 채널의 디지털 신호와 해당 노드의 칩 순열의 곱 연산을 통해 구한 값을 모두 더하여 값의 합을 노드수로 나눠 비트를 검출할 수 있다.

<img src ="https://user-images.githubusercontent.com/75229881/127096710-ea070f47-2b79-4883-af30-b07280f5cbc7.png " width="80%">

---

### Port number

* (1) TCPMUX : TCP Port service multiplexer
* (7) ECHO 
* (20) FTP - DATA : FTP 데이터전송
* (21) FTP - CONTROL : FTP 전송 제어
* (22) SSH
* (23) TELNET : 암호화되지 않은 텍스트 통신
* (25) SMTP 
* (53) DNS
* (69) TFTP 
* (80) HTTP
* (88) Kerberos
* (110) POP3
* (123) NTP : Network Time Protocol, 시간 동기화 프로토콜
* (143) IMAP
* (161) SNMP
* (179) BGP
* (443) HTTPS

---